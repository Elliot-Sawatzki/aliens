@namespace
class SpriteKind:
    Human_made = SpriteKind.create()
    Buiding_1 = SpriteKind.create()
    Building_2 = SpriteKind.create()
    Building_3 = SpriteKind.create()
shot = 0
info.set_life(3)
info.set_score(0)

def on_event_pressed():
    global gun_timer
    if gun_timer == 0:
        projectile = sprites.create_projectile_from_sprite(img("""
        . 7 .
        7 . .
        . 7 .
        . . 7
        . 7 .
         """), my_sprite, 0, -100)
        projectile.set_kind(SpriteKind.Human_made)
        gun_timer = 1
controller.A.on_event(ControllerButtonEvent.PRESSED, on_event_pressed)

def on_overlap(sprite, otherSprite):
    global popper 
    popper = 0
    for i in range(7):
        if projectile.overlaps_with(list2[popper]):
            pass
    otherSprite.set_image(img("""
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ......1..1....1..1......
        .......1..1..1..1.......
        ........1......1........
        ........................
        ......111......111......
        ........................
        ........1......1........
        .......1..1..1..1.......
        ......1..1....1..1......
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
    """))
    info.change_score_by(100)
    def on_after():
        sprites.destroy(otherSprite)
        def on_after2():
            if shot == 6:
                game.game_over(True)
        timer.after(500, on_after2)
    timer.after(500, on_after)
    sprites.destroy(sprite)
sprites.on_overlap(SpriteKind.Human_made, SpriteKind.enemy, on_overlap)

def on_on_destroyed(sprite):
    global shot
    global thingymabob
    shot += 1
    thingymabob = len(list2)
    print(thingymabob)
    print(shot)
    return shot
sprites.on_destroyed(SpriteKind.enemy, on_on_destroyed)

def on_destroyed(sprite):
    global gun_timer
    gun_timer = 0
    return gun_timer

sprites.on_destroyed(SpriteKind.Human_made, on_destroyed)

projectile: Sprite = None
my_sprite: Sprite = None
index = 0
popper = 0
gun_timer = 0
enemy_shot = 0
checker = 0
thingymabob = 0
velocity = 0
shot = 0
checker2 = 0
b1_d = 0
b2_d = 0
b3_d = 0
list2 :List[Sprite] = [sprites.create(img("""
    ........................
    ........................
    ........................
    ........................
    ........................
    ...........11...........
    ..........1111..........
    .........111111.........
    ........11.11.11........
    ........11111111........
    ........11111111........
    ..........1..1..........
    .........1.11.1.........
    ........1.1..1.1........
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
"""),
SpriteKind.enemy),
sprites.create(img("""
            ........................
            ........................
            ........................
            ........................
            ........................
            ...........11...........
            ..........1111..........
            .........111111.........
            ........11.11.11........
            ........11111111........
            ........11111111........
            ..........1..1..........
            .........1.11.1.........
            ........1.1..1.1........
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
            ........................
"""),
SpriteKind.enemy),
sprites.create(img("""
    ........................
    ........................
    ........................
    ........................
    ........................
    ...........11...........
    ..........1111..........
    .........111111.........
    ........11.11.11........
    ........11111111........
    ........11111111........
    ..........1..1..........
    .........1.11.1.........
    ........1.1..1.1........
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
"""),
SpriteKind.enemy),
sprites.create(img("""
    ........................
    ........................
    ........................
    ........................
    ........................
    ...........11...........
    ..........1111..........
    .........111111.........
    ........11.11.11........
    ........11111111........
    ........11111111........
    ..........1..1..........
    .........1.11.1.........
    ........1.1..1.1........
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
"""),
SpriteKind.enemy),
sprites.create(img("""
    ........................
    ........................
    ........................
    ........................
    ........................
    ...........11...........
    ..........1111..........
    .........111111.........
    ........11.11.11........
    ........11111111........
    ........11111111........
    ..........1..1..........
    .........1.11.1.........
    ........1.1..1.1........
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
"""),
SpriteKind.enemy),
sprites.create(img("""
    ........................
    ........................
    ........................
    ........................
    ........................
    ...........11...........
    ..........1111..........
    .........111111.........
    ........11.11.11........
    ........11111111........
    ........11111111........
    ..........1..1..........
    .........1.11.1.........
    ........1.1..1.1........
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
"""),
        SpriteKind.enemy),]
list2[0].set_position(15, 20)
list2[1].set_position(30, 20)
list2[2].set_position(45, 20)
list2[3].set_position(60, 20)
list2[4].set_position(75, 20)
list2[5].set_position(90, 20)
index = 0
for i in range(6):
    pass
    list2[velocity].set_velocity(5, 0)
    velocity = velocity + 1
    index += 1
my_sprite = sprites.create(img("""
        . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 7 7 . . . . . . . 
            . . . . . . 7 7 7 7 . . . . . . 
            . . 7 7 7 7 7 7 7 7 7 7 7 7 . . 
            . 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . 
            . 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . 
            . 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . 
            . 7 7 7 7 7 7 7 7 7 7 7 7 7 7 . 
            . . . . . . . . . . . . . . . .
    """),
    SpriteKind.player)
my_sprite.set_position(80, 110)
my_sprite.set_stay_in_screen(True)
controller.move_sprite(my_sprite, 50, 0)
tower_1 = sprites.create(img("""
    .........................
    .........................
    ....77777777777777777....
    ...7777777777777777777...
    ..777777777777777777777..
    .77777777777777777777777.
    .77777777.......77777777.
    .7777777.........7777777.
    .7777777.........7777777.
    .777777...........777777.
    .777777...........777777.
    .777777...........777777.
    .........................
    .........................
    .........................
    .........................
"""),
    SpriteKind.Buiding_1)
tower_1.set_position(35, 100)
tower_2 = sprites.create(img("""
        .........................
            .........................
            ....77777777777777777....
            ...7777777777777777777...
            ..777777777777777777777..
            .77777777777777777777777.
            .77777777.......77777777.
            .7777777.........7777777.
            .7777777.........7777777.
            .777777...........777777.
            .777777...........777777.
            .777777...........777777.
            .........................
            .........................
            .........................
            .........................
    """),
    SpriteKind.Building_2)
tower_2.set_position(80, 100)
tower_3 = sprites.create(img("""
        .........................
            .........................
            ....77777777777777777....
            ...7777777777777777777...
            ..777777777777777777777..
            .77777777777777777777777.
            .77777777.......77777777.
            .7777777.........7777777.
            .7777777.........7777777.
            .777777...........777777.
            .777777...........777777.
            .777777...........777777.
            .........................
            .........................
            .........................
            .........................
    """),
    SpriteKind.Building_3)
tower_3.set_position(125, 100)

def on_on_update():
    global checker
    checker = 0
    for i in range(6):
        if list2[checker].x > 150 or list2[checker].x < 10:
            def on_throttle():
                changer = 0
                for i in range(6):
                    list2[changer].set_velocity(list2[changer].vx * -1, 0)
                    list2[changer].set_position(list2[changer].x, list2[changer].y + 6)
                    changer = changer + 1
            timer.throttle("action", 500, on_throttle)
        checker = checker + 1
game.on_update(on_on_update)
